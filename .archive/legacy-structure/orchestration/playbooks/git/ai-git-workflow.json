{
  "name": "ai-git-workflow",
  "description": "AI-driven Git workflow for consistent development practices",
  "version": "1.0.0",
  "author": "AitherZero Team",
  "tags": ["git", "ai", "automation", "development"],
  "requirements": {
    "modules": ["GitAutomation", "PullRequestManager"],
    "tools": ["git", "gh"],
    "minimumVersion": "7.0"
  },
  "parameters": {
    "branchType": {
      "description": "Type of branch to create",
      "required": false,
      "values": ["feature", "fix", "docs", "refactor", "test", "chore"],
      "default": "feature"
    },
    "branchName": {
      "description": "Name for the branch",
      "required": true,
      "example": "ai-integration"
    },
    "filePattern": {
      "description": "Files to stage (space-separated patterns)",
      "required": true,
      "example": "*.ps1 config.json docs/*.md"
    },
    "commitType": {
      "description": "Conventional commit type",
      "required": true,
      "values": ["feat", "fix", "docs", "style", "refactor", "test", "chore", "perf", "ci", "build", "revert"],
      "default": "feat"
    },
    "commitScope": {
      "description": "Commit scope",
      "required": false,
      "example": "ai"
    },
    "commitMessage": {
      "description": "Commit message",
      "required": true,
      "example": "Add comprehensive AI integration"
    },
    "commitBody": {
      "description": "Extended commit body",
      "required": false
    },
    "createPR": {
      "description": "Whether to create a pull request",
      "required": false,
      "default": true
    },
    "prTitle": {
      "description": "Pull request title",
      "required": false
    },
    "prBody": {
      "description": "Pull request body",
      "required": false
    },
    "prBase": {
      "description": "Base branch for PR",
      "required": false,
      "default": "main"
    },
    "prLabels": {
      "description": "PR labels (comma-separated)",
      "required": false,
      "example": "enhancement,ai,automation"
    }
  },
  "variables": {
    "branchType": "{{branchType:=feature}}",
    "branchName": "{{branchName}}",
    "filePattern": "{{filePattern}}",
    "commitType": "{{commitType:=feat}}",
    "commitScope": "{{commitScope}}",
    "commitMessage": "{{commitMessage}}",
    "commitBody": "{{commitBody}}",
    "createPR": "{{createPR:=true}}",
    "prTitle": "{{prTitle:={{commitType}}({{commitScope}}): {{commitMessage}}}}",
    "prBase": "{{prBase:=main}}",
    "prBody": "{{prBody:={{commitBody}}}}",
    "prLabels": "{{prLabels}}"
  },
  "stages": [
    {
      "name": "Create Feature Branch",
      "description": "Create and checkout feature branch",
      "sequence": ["0701"],
      "variables": {
        "Type": "{{branchType}}",
        "Name": "{{branchName}}",
        "Checkout": true,
        "NonInteractive": true,
        "Force": true
      },
      "continueOnError": false
    },
    {
      "name": "Stage Files",
      "description": "Add specified files to git staging",
      "sequence": ["0704"],
      "variables": {
        "Patterns": "{{filePattern}}",
        "Force": true
      },
      "continueOnError": false
    },
    {
      "name": "Create Commit",
      "description": "Create conventional commit",
      "sequence": ["0702"],
      "variables": {
        "Type": "{{commitType}}",
        "Scope": "{{commitScope}}",
        "Message": "{{commitMessage}}",
        "Body": "{{commitBody}}",
        "AutoStage": false,
        "NonInteractive": true,
        "Force": true
      },
      "continueOnError": false
    },
    {
      "name": "Push Branch",
      "description": "Push branch to remote",
      "sequence": ["0705"],
      "variables": {
        "SetUpstream": true,
        "NonInteractive": true
      },
      "continueOnError": false
    },
    {
      "name": "Create Pull Request",
      "description": "Create PR if requested",
      "sequence": ["0703"],
      "condition": "{{createPR}}",
      "variables": {
        "Title": "{{prTitle}}",
        "Base": "{{prBase}}",
        "Body": "{{prBody}}",
        "Labels": "{{prLabels}}",
        "NonInteractive": true,
        "Force": true
      },
      "continueOnError": false
    }
  ],
  "notifications": {
    "onSuccess": {
      "message": "✅ AI-driven Git workflow completed successfully!",
      "level": "Information"
    },
    "onFailure": {
      "message": "❌ AI Git workflow failed",
      "level": "Error"
    }
  }
}