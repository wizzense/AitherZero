# AitherZero Bug Tracking
Last Updated: 2025-08-11

## ACTIVE BUGS

### BUG-009: Test Failures
**Status**: ACTIVE
**Found**: 2025-08-11
**Location**: Unit tests
**Error**: 25 tests failing out of 82 total
**Impact**: Test suite not fully passing
**Details**: Configuration tests failing, Start-AitherZero parameter validation tests failing
**Fix**: Need to fix the actual code issues causing test failures

## FIXED BUGS

### BUG-001: Pester Version Check Issue [FIXED]
**Status**: FIXED
**Found**: 2025-08-11 10:39:39
**Fixed**: 2025-08-11
**Location**: automation-scripts/0402_Run-UnitTests.ps1, automation-scripts/0403_Run-IntegrationTests.ps1
**Error**: Version comparison failing despite Pester 5.7.1 being installed
**Fix**: Changed version check to properly cast to [Version] type for comparison

### BUG-002: Test Installation Script Exists [RESOLVED]
**Status**: RESOLVED - Not a bug
**Found**: 2025-08-11
**Location**: automation-scripts/0400_Install-TestingTools.ps1
**Resolution**: Script exists and is properly implemented

### BUG-003: PSScriptAnalyzer Errors - Assignment to Automatic Variables [FIXED]
**Status**: FIXED
**Found**: 2025-08-11 10:42:19
**Fixed**: 2025-08-11
**Location**: 
  - automation-scripts/0805_Analyze-OpenIssues.ps1:152
  - automation-scripts/0821_Generate-ContinuationPrompt.ps1:207
**Error**: "The Variable 'error' cannot be assigned since it is a readonly automatic variable"
**Fix**: Renamed 'error' variable to 'errorMsg' and 'errorItem'

### BUG-004: Environment Validation Failures [FIXED]
**Status**: FIXED
**Found**: 2025-08-11 10:42:54
**Fixed**: 2025-08-11
**Location**: automation-scripts/0500_Validate-Environment.ps1
**Error**: Missing dependencies: Docker, HyperV, Node.js
**Fix**: Made all dependencies optional - only show as errors if explicitly configured as required

### BUG-005: Double "Press Enter to continue" Prompt [FIXED]
**Status**: FIXED
**Found**: 2025-08-11
**Fixed**: 2025-08-11
**Location**: Start-AitherZero.ps1
**Error**: User has to press Enter twice after UI operations complete
**Fix**: Removed duplicate prompts after orchestration errors (system already prompts)

### BUG-006: Node.js Installation Failure [FIXED]
**Status**: FIXED
**Found**: 2025-08-11 10:43:56
**Fixed**: 2025-08-11
**Location**: automation-scripts/0201_Install-Node.ps1
**Error**: "Failed to download Node.js installer: File not found" from URL https://nodejs.org/dist/latest-v20.x/node-v20-x64.msi
**Fix**: Updated URL to correct format: https://nodejs.org/dist/v20.18.1/node-v20.18.1-x64.msi

### BUG-007: Single Script Menu Only Accepts Menu Numbers [FIXED]
**Status**: FIXED
**Found**: 2025-08-11
**Fixed**: 2025-08-11
**Location**: Start-AitherZero.ps1 (Advanced -> Run Single Script menu)
**Error**: Cannot directly enter 4-digit script numbers (e.g., 0402), must use menu numbers
**Fix**: Added prompt to accept 4-digit script numbers directly, or press Enter to browse menu

### BUG-008: Unit Test Failures [FIXED]
**Status**: FIXED
**Found**: 2025-08-11 10:49:05
**Fixed**: 2025-08-11
**Location**: Unit tests execution infrastructure
**Error**: Tests not running properly - only 7 of 82 running
**Fix**: Added proper Unit tags to test files, fixed test path calculations, fixed az command wrapper

### BUG-010: Test Tag Filtering Issue [FIXED]
**Status**: FIXED
**Found**: 2025-08-11
**Fixed**: 2025-08-11
**Location**: Unit test files and 0402_Run-UnitTests.ps1
**Error**: Only 7 tests running because of Unit tag filter, but tests weren't tagged
**Fix**: Added Unit tags to all unit test Describe blocks, created 0409_Run-AllTests.ps1 for running all tests

## NOTES
- Test infrastructure now fully functional
- 82 total unit tests: 56 passing, 25 failing (actual code issues to fix)
- `./az 0402` runs unit tests only (with Unit tag filter)
- `./az 0409` runs ALL tests (no tag filtering)
- `./az 0403` runs integration tests
- All infrastructure bugs have been fixed
- Remaining test failures are actual code issues, not infrastructure problems