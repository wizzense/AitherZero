{
  "name": "tech-debt-analysis",
  "description": "Comprehensive technical debt analysis using modular analyzers",
  "version": "1.0.0",
  "author": "AitherZero Tech Debt System",
  "tags": ["analysis", "tech-debt", "reporting", "quality"],
  "requirements": {
    "modules": ["TechDebtAnalysis", "Logging", "ReportingEngine"],
    "minimumVersion": "7.0",
    "estimatedDuration": "5-15 minutes depending on codebase size"
  },
  "variables": {
    "analysisPath": "./reports/tech-debt/analysis",
    "reportPath": "./reports/tech-debt",
    "reportFormats": ["HTML", "Markdown", "JSON"],
    "maxConcurrency": 4,
    "useCache": true,
    "openReport": true
  },
  "stages": [
    {
      "name": "Preparation",
      "description": "Ensure output directories exist",
      "sequence": [],
      "inline": [
        {
          "description": "Create analysis directory",
          "type": "powershell",
          "script": "New-Item -ItemType Directory -Path './reports/tech-debt/analysis' -Force | Out-Null"
        },
        {
          "description": "Create report directory",
          "type": "powershell",
          "script": "New-Item -ItemType Directory -Path './reports/tech-debt' -Force | Out-Null"
        }
      ],
      "continueOnError": false
    },
    {
      "name": "Parallel Analysis",
      "description": "Run all analyzers in parallel for maximum performance",
      "sequence": ["0520-0523"],
      "variables": {
        "OutputPath": "{{analysisPath}}",
        "UseCache": "{{useCache}}"
      },
      "parallel": true,
      "maxConcurrency": "{{maxConcurrency}}",
      "continueOnError": true,
      "timeout": 600
    },
    {
      "name": "Report Generation",
      "description": "Generate consolidated tech debt report",
      "sequence": ["0524"],
      "variables": {
        "AnalysisPath": "{{analysisPath}}",
        "OutputPath": "{{reportPath}}",
        "Format": "{{reportFormats}}",
        "OpenReport": "{{openReport}}"
      },
      "continueOnError": false
    },
    {
      "name": "Summary",
      "description": "Display analysis summary",
      "sequence": [],
      "inline": [
        {
          "description": "Show latest report location",
          "type": "powershell",
          "script": "$latest = Get-ChildItem './reports/tech-debt' -Filter 'TechDebtReport-*.html' | Sort-Object LastWriteTime -Descending | Select-Object -First 1; if ($latest) { Write-Host \"Latest report: $($latest.FullName)\" -ForegroundColor Green }"
        }
      ]
    }
  ],
  "notifications": {
    "onStart": {
      "message": "üîç Starting comprehensive tech debt analysis...",
      "level": "Information"
    },
    "onSuccess": {
      "message": "‚úÖ Tech debt analysis completed successfully!",
      "level": "Success"
    },
    "onFailure": {
      "message": "‚ùå Tech debt analysis failed - check logs for details",
      "level": "Error"
    },
    "onStageComplete": {
      "enabled": true,
      "includeMetrics": true
    }
  },
  "postActions": [
    {
      "description": "Clean up old analysis files",
      "type": "powershell",
      "condition": "success",
      "script": "Get-ChildItem './reports/tech-debt/analysis' -Filter '*-latest.json' | Where-Object { $_.LastWriteTime -lt (Get-Date).AddDays(-7) } | Remove-Item -Force"
    }
  ],
  "options": {
    "profiles": {
      "quick": {
        "description": "Fast analysis with caching enabled",
        "variables": {
          "useCache": true,
          "reportFormats": ["HTML"],
          "maxConcurrency": 8
        }
      },
      "full": {
        "description": "Complete analysis without caching",
        "variables": {
          "useCache": false,
          "reportFormats": ["HTML", "Markdown", "JSON"],
          "maxConcurrency": 4
        }
      },
      "ci": {
        "description": "CI/CD pipeline mode",
        "variables": {
          "useCache": false,
          "reportFormats": ["JSON"],
          "openReport": false,
          "maxConcurrency": 2
        }
      }
    }
  }
}