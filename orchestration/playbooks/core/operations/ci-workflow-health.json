{
  "metadata": {
    "name": "ci-workflow-health",
    "description": "Validate GitHub Actions workflow health - mirrors workflow-health-check.yml",
    "version": "1.0.0",
    "category": "operations",
    "author": "AitherZero CI/CD Team",
    "tags": ["ci", "validation", "workflows", "github-actions", "health"],
    "estimatedDuration": "2-5 minutes",
    "lastUpdated": "2025-11-04T06:00:00Z",
    "githubWorkflow": "workflow-health-check.yml"
  },
  "requirements": {
    "minimumPowerShellVersion": "7.0",
    "requiredModules": [],
    "requiredTools": [],
    "platforms": ["Windows", "Linux", "macOS"],
    "permissions": []
  },
  "orchestration": {
    "defaultVariables": {
      "checkHealth": true,
      "validateSyntax": true
    },
    "profiles": {
      "standard": {
        "description": "Standard workflow health check",
        "variables": {
          "checkHealth": true,
          "validateSyntax": true
        }
      },
      "quick": {
        "description": "Quick health check without deep validation",
        "variables": {
          "checkHealth": true,
          "validateSyntax": false
        }
      }
    },
    "stages": [
      {
        "name": "Workflow Health Check",
        "description": "Run workflow health monitor script",
        "sequences": [],
        "preScript": "Write-Host 'üîç Running Workflow Health Monitor...' -ForegroundColor Cyan; & ./.github/scripts/monitor-workflow-health.ps1; if ($LASTEXITCODE -eq 0) { Write-Host '‚úÖ All workflow health checks passed!' -ForegroundColor Green } else { Write-Host '‚ùå Workflow health issues detected!' -ForegroundColor Red; exit 1 }",
        "condition": "{{checkHealth}}",
        "continueOnError": false,
        "timeout": 180
      },
      {
        "name": "Validate Workflow Syntax",
        "description": "Validate GitHub Actions workflow YAML syntax",
        "sequences": ["0440"],
        "condition": "{{validateSyntax}}",
        "continueOnError": true,
        "timeout": 120
      }
    ]
  },
  "notifications": {
    "onStart": {
      "message": "üîç Starting workflow health check...",
      "level": "Information"
    },
    "onSuccess": {
      "message": "‚úÖ All workflow health checks passed!",
      "level": "Success"
    },
    "onFailure": {
      "message": "‚ùå Workflow health issues detected!",
      "level": "Error"
    }
  },
  "integrations": {
    "github": {
      "enabled": true,
      "workflow": "workflow-health-check.yml"
    }
  }
}
