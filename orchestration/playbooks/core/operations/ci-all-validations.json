{
  "metadata": {
    "name": "ci-all-validations",
    "description": "Run all CI validation checks - comprehensive local testing before pushing",
    "version": "1.0.0",
    "category": "operations",
    "author": "AitherZero CI/CD Team",
    "tags": ["ci", "validation", "comprehensive", "github-actions", "all"],
    "estimatedDuration": "15-25 minutes",
    "lastUpdated": "2025-11-04T06:00:00Z",
    "githubWorkflow": "multiple"
  },
  "requirements": {
    "minimumPowerShellVersion": "7.0",
    "requiredModules": ["PSScriptAnalyzer", "Pester"],
    "requiredTools": [],
    "platforms": ["Windows", "Linux", "macOS"],
    "permissions": []
  },
  "orchestration": {
    "defaultVariables": {
      "runPRValidation": true,
      "runConfigValidation": true,
      "runManifestValidation": true,
      "runTestSync": true,
      "runWorkflowHealth": true,
      "runQualityValidation": false,
      "runTests": false
    },
    "profiles": {
      "quick": {
        "description": "Quick validation - essential checks only",
        "variables": {
          "runPRValidation": true,
          "runConfigValidation": true,
          "runManifestValidation": true,
          "runTestSync": false,
          "runWorkflowHealth": false,
          "runQualityValidation": false,
          "runTests": false
        }
      },
      "standard": {
        "description": "Standard validation - most CI checks",
        "variables": {
          "runPRValidation": true,
          "runConfigValidation": true,
          "runManifestValidation": true,
          "runTestSync": true,
          "runWorkflowHealth": true,
          "runQualityValidation": false,
          "runTests": false
        }
      },
      "comprehensive": {
        "description": "Comprehensive validation - all CI checks including tests",
        "variables": {
          "runPRValidation": true,
          "runConfigValidation": true,
          "runManifestValidation": true,
          "runTestSync": true,
          "runWorkflowHealth": true,
          "runQualityValidation": true,
          "runTests": true
        }
      }
    },
    "stages": [
      {
        "name": "PR Validation",
        "description": "Validate PowerShell syntax and changed files",
        "sequences": ["0407"],
        "condition": "{{runPRValidation}}",
        "variables": {
          "CheckSyntax": true,
          "ChangedFilesOnly": false
        },
        "continueOnError": false,
        "timeout": 180
      },
      {
        "name": "Config Validation",
        "description": "Validate config.psd1 manifest",
        "sequences": ["0413", "0003"],
        "condition": "{{runConfigValidation}}",
        "continueOnError": false,
        "timeout": 180
      },
      {
        "name": "Manifest Validation",
        "description": "Validate PowerShell module manifests",
        "sequences": ["0405"],
        "condition": "{{runManifestValidation}}",
        "continueOnError": false,
        "timeout": 180
      },
      {
        "name": "Test Sync Validation",
        "description": "Validate test-script synchronization",
        "sequences": ["0426"],
        "condition": "{{runTestSync}}",
        "variables": {
          "CI": false
        },
        "continueOnError": true,
        "timeout": 120
      },
      {
        "name": "Workflow Health Check",
        "description": "Validate GitHub Actions workflows",
        "sequences": ["0440"],
        "condition": "{{runWorkflowHealth}}",
        "continueOnError": true,
        "timeout": 180
      },
      {
        "name": "Quality Validation",
        "description": "Run PSScriptAnalyzer on all code",
        "sequences": ["0404"],
        "condition": "{{runQualityValidation}}",
        "variables": {
          "Fast": true
        },
        "continueOnError": true,
        "timeout": 300
      },
      {
        "name": "Unit Tests",
        "description": "Run unit tests",
        "sequences": ["0400", "0402"],
        "condition": "{{runTests}}",
        "variables": {
          "NoCoverage": true
        },
        "continueOnError": true,
        "timeout": 600
      }
    ]
  },
  "notifications": {
    "onStart": {
      "message": "üöÄ Starting comprehensive CI validation...",
      "level": "Information"
    },
    "onSuccess": {
      "message": "‚úÖ All validations passed! Ready to push.",
      "level": "Success"
    },
    "onFailure": {
      "message": "‚ùå Some validations failed - review output above",
      "level": "Error"
    }
  },
  "integrations": {
    "github": {
      "enabled": true,
      "workflow": "multiple"
    }
  }
}
