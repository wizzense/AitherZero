# Index.md Merge Conflict Resolution

## Problem
Auto-generated `index.md` files throughout the repository were causing merge conflicts when multiple branches were merged into main. These files are generated by `automation-scripts/0745_Generate-ProjectIndexes.ps1` and contain navigation metadata that gets updated frequently.

## Solution
Configured Git to use the "ours" merge strategy for all `index.md` files via `.gitattributes`. This means:

1. During merges, Git will automatically keep the version from the current branch
2. No merge conflicts will occur for `index.md` files
3. After merging, the index can be regenerated to reflect the final state

## Implementation

### .gitattributes
```
# Auto-generated index.md files should always use the most recent version
**/index.md merge=ours
```

This tells Git: "For any file matching `**/index.md`, use the 'ours' merge strategy during merges."

## Workflow

### For Branch Maintainers
1. Merge your branch normally - no conflicts on index.md files
2. After merge, regenerate indexes:
   ```powershell
   ./automation-scripts/0745_Generate-ProjectIndexes.ps1 -Mode Full
   ```

### For Contributors
- Commit index.md files as generated
- Don't worry about conflicts - Git will handle them automatically
- The maintainer will regenerate indexes after merge

## Why This Works

1. **index.md files are deterministic**: They're generated from directory structure
2. **They can be regenerated**: Running the index generator produces the same result
3. **No manual content**: These files don't contain hand-written content that could be lost
4. **"ours" is safe**: Since we regenerate after merge, using the current branch's version is fine

## Testing

To verify the merge strategy is working:

```bash
# Check that .gitattributes is configured
git check-attr merge **/index.md

# Should show: **/index.md: merge: ours
```

## Alternative Considered

We considered adding `**/index.md` to `.gitignore`, but rejected this because:
- Index files are useful for navigation in the repository
- They should be version controlled for consistency
- GitHub and other tools can use them for better browsing experience

## References
- `.gitattributes` configuration file
- `automation-scripts/0745_Generate-ProjectIndexes.ps1` - Index generator
- Git documentation: https://git-scm.com/docs/gitattributes#_defining_a_custom_merge_driver
